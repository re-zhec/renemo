////////////////////////////////////////////////////////////////////////////////
/// \copyright MIT License                                                   ///
/// \author    Caylen Lee                                                    ///
/// \date      2019                                                          ///
////////////////////////////////////////////////////////////////////////////////
#include "Game.hpp"
#include "entity/EntityMake.hpp"
#include "util/logger.hpp"

namespace nemo
{

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

Game::Game()
	: _is_playing(true)
	, _player(EntityMake::entity(EntityID::Hero))
	, _npc(EntityMake::entity(EntityID::TeenageBoy))
{
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

Game&
Game::getInstance()
{
	static Game instance;
	return instance;
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

void
Game::pause()
noexcept
{
	NEMO_DEBUG("Game paused");
	_is_playing = false;
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

void
Game::resume()
noexcept
{
	NEMO_DEBUG("Game resumed");
	_is_playing = true;
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

void
Game::updateFrame(sf::RenderWindow& window)
{
	if (!_is_playing) {
		return;
	}

	_player->updateObject(window);
	// _npc->updateObject(window);
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

}