////////////////////////////////////////////////////////////////////////////////
/// \copyright MIT License                                                   ///
/// \author    Caylen Lee                                                    ///
/// \date      2019                                                          ///
////////////////////////////////////////////////////////////////////////////////
#include "Game.hpp"
#include "Entity/EntityCreator.hpp"
#include "util/debug.hpp"

namespace nemo
{

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

Game::Game()
	: _is_playing(true)
	, _player(EntityCreator::npc())
	, _npc(EntityCreator::player())
{
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

Game&
Game::getInstance()
{
	static Game instance;
	return instance;
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

void
Game::pause()
noexcept
{
	STDDEBUG("Game paused");
	_is_playing = false;
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

void
Game::resume()
noexcept
{
	STDDEBUG("Game resumed");
	_is_playing = true;
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

void
Game::updateFrame(sf::RenderWindow& window)
{
	if (!_is_playing) {
		return;
	}

	_player->updateObject(window);
	_npc->updateObject(window);
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

} // namespace nemo